<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script  type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
        crossorigin="anonymous">
</script>
<body>
<h1 class="heading">YouTube Downloader !</h1>
<input class="URL-input" placeholder="Video URL">
<button class="download-button" onclick="download()" >Download</button>

</body>
</html>


<script type="text/javascript">
   function  download()
   {
       console.log('download');
       console.log($( ".URL-input" ).val());
       const downloadURL = $( ".URL-input" ).val();

       postJson("/download", {downloadURL: downloadURL}, function (rtn)
       {
           console.log(rtn);
           alert(JSON.stringify(rtn));
       });

   }



   function postJson(url,data,cb)
   {
       $.ajax({
           method:"post",url: url
           ,contentType:"application/json; charset=UTF-8"
           ,data:JSON.stringify(data)
           ,success:cb
           /*			,error: function(XMLHttpRequest, textStatus, errorThrown){
                                   alert("网络错误"+XMLHttpRequest.status); //查看请求状态
                                   //调用失败代码
                       }*/
       });
   }

</script>
